<!DOCTYPE html>
<html>
  <head>
    <title>WubStory</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-..." crossorigin="anonymous">
 
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags  'application'%>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
    .card-img-top {
      object-fit: cover;
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
    }
    </style>
  </head>

  <body>
  <%= render "/shared/navbar" %>
  <div class="container mt-4">
  <% flash.each do |type, message| %>
    <% next if message.blank? %>
    <%# Map Rails flash types to Bootstrap alert classes %>
    <% bs_class = case type.to_sym
        when :notice then 'success'
        when :alert  then 'danger'
        else type.to_s
        end %>
    <div data-controller="flash" class="alert alert-<%= bs_class %> alert-dismissible fade show" role="alert">
      <%= message %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>

    <%= yield %>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script></body>
</html>
